############################################################
#                        VERSIONS                          # 
############################################################

AUTH_SERVICE_VERSION=""
MAIL_SERVICE_VERSION=""
MAIL_SERVER_SERVICE_VERSION=""
PRODUCTIVITY_SERVICE_VERSION=""
TASK_APP_VERSION=""
NOTES_APP_VERSION=""
MAIL_APP_VERSION=""

########## EXTERNAL IMAGE VERSIONS ##########
# Update only when the GitHub versions changes
MONGODB_VERSION="8.0.4"
RABBITMQ_VERSION="4.1.2-management"
RSPAMD_VERSION="3.12.1"
PLATFORM="linux/arm64"


############################################################
#               USER REQUIRED CONFIG                       # 
############################################################

# public domain
PUBLIC_ADDRESS=atomic-blend.com

# domains supported for accounts (when register, you choose one of those)
ACCOUNT_DOMAINS=atomic-blend.com

# https defines if the urls and links inside the platform are using https
HTTPS=true

# generate using "openssl rand 256 | base64 -w0"
SSO_SECRET=""
# If using the official apps, this will not work.
# A notification relay will be implemented in the future
FIREBASE_PROJECT_ID=""

# define the env the platform is running on 
ENV=prod

# maximum number of registered users allowed
AUTH_MAX_NB_USER=10


############################################################
#               STATIC: DO NOT CHANGE                      # 
############################################################
PAYMENT_ENABLED=false
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxx
STRIPE_CLOUD_SUBSCRIPTION_PRICE_ID=price_xxxxxxxxxxxxx
STRIPE_CLOUD_TRIAL_DAYS=7
STRIPE_WEBHOOK_TOKEN=

GOOGLE_APPLICATION_CREDENTIALS="/app/firebase_sac.json"
MONGO_USERNAME=mongo_user
MONGO_PASSWORD=password
MONGO_HOST=mongodb
MONGO_PORT=27017
DATABASE_NAME=atomic-blend
MONGO_AUTH_SOURCE=admin

# cors config for api
CORS_ALLOWED_ORIGINS=http://localhost:53631
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin
CORS_ALLOW_CREDENTIALS=true

# fallback values for amqp
AMQP_URL=amqp://user:password@rabbitmq:5672
AMQP_EXCHANGE_NAMES=mail
AMQP_QUEUE_NAME=mail_queue
AMQP_ROUTING_KEYS=mail:sent,mail:received

# mail api amqp config
MAIL_AMQP_CONSUMER_URL=amqp://user:password@rabbitmq:5672
MAIL_AMQP_CONSUMER_EXCHANGE_NAMES=mail
MAIL_AMQP_CONSUMER_QUEUE_NAME=mail_queue
MAIL_AMQP_CONSUMER_ROUTING_KEYS=mail:received

MAIL_AMQP_PRODUCER_URL=amqp://user:password@rabbitmq:5672
MAIL_AMQP_PRODUCER_EXCHANGE_NAMES=mail
MAIL_AMQP_PRODUCER_QUEUE_NAME=mail_queue
MAIL_AMQP_PRODUCER_ROUTING_KEYS=mail:sent

# mail server producer config
MAIL_SERVER_AMQP_PRODUCER_URL=amqp://user:password@rabbitmq:5672
MAIL_SERVER_AMQP_PRODUCER_EXCHANGE_NAMES=mail
MAIL_SERVER_AMQP_PRODUCER_QUEUE_NAME=mail_queue
MAIL_SERVER_AMQP_PRODUCER_ROUTING_KEYS=mail:received

# mail server consumer config
MAIL_SERVER_AMQP_CONSUMER_URL=amqp://user:password@rabbitmq:5672
MAIL_SERVER_AMQP_CONSUMER_EXCHANGE_NAMES=mail
MAIL_SERVER_AMQP_CONSUMER_QUEUE_NAME=mail_queue
MAIL_SERVER_AMQP_CONSUMER_ROUTING_KEYS=mail:sent

# lail retyr queue config
MAIL_SERVER_AMQP_PRODUCER_RETRY_ENABLED=true
MAIL_SERVER_AMQP_PRODUCER_RETRY_EXCHANGE=mail
MAIL_SERVER_AMQP_PRODUCER_RETRY_ROUTING_KEY=sent
MAIL_SERVER_AMQP_PRODUCER_RETRY_QUEUE_NAME=retry_queue
MAIL_SERVER_AMQP_PRODUCER_RETRY_BINDING_KEY=send_retry

# rspamd config
RSPAMD_BASE_URL=http://rspamd-compose-rspamd:11333
RSPAMD_PASSWORD=
RSPAMD_TIMEOUT_SECONDS=30
RSPAMD_MAX_RETRIES=3

#s3 file storage config
AWS_ENDPOINT=http://minio:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_DEFAULT_REGION=eu-west
AWS_BUCKET=ab-files
#set to true when running locally
AWS_USE_PATH_STYLE_ENDPOINT=true

# DKIM signing config
DKIM_PRIVATE_KEY_PATH=/app/dkim_private_key.pem
DKIM_SELECTOR=local

# email settings
RESTRICTED_EMAILS=abuse,account,accounts,admin,administrator,alerts,api,app,apps,archive,assets,auth,automation,backup,billing,blog,bot,bugs,cdn,ceo,chat,cloud,comments,compliance,config,contact,contracts,content,cron,customerservice,dashboard,data,database,db,default,demo,deploy,dev,developer,developers,devnull,devops,dns,docker,docs,domain,domains,download,editor,email,events,feedback,files,finance,frontend,ftp,git,github,gitlab,guest,help,helpdesk,hello,host,hostmaster,hr,imap,info,infrastructure,internal,intranet,invoice,invoices,issues,it,jobs,js,log,logs,mail,mailer,mailer-daemon,mailing,mailman,marketing,me,media,moderator,monitor,monitoring,network,news,newsletter,nobody,no-reply,noreply,notification,notifications,nucleus,null,office,ops,orders,owner,pay,payment,payments,ping,pm,portal,post,postbox,postfix,postmaster,press,privacy,project,projects,proxy,public,purchase,purchases,register,registration,reports,reply,report,reports,research,reservations,root,sales,sandbox,scan,scans,scheduler,script,scripts,security,server,service,services,shop,signin,signup,smtp,snmp,spam,sql,ssl,staff,status,sso,store,submissions,subscribe,subscription,support,sys,sysadmin,system,team,tech,technical,test,testing,tracker,update,updates,upload,uploads,user,users,uucp,validator,verification,verify,video,voice,vpn,web,webform,webmail,webmaster,welcome,wiki,www,xml